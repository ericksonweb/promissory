{#
/**
 * Icon Pattern
 */
#}
{% extends '@promissory/_macros/_element.twig' %}

{# Establish HTML element #}
{% set element = 'span' %}

{# Incorporate 'icon' class into 'attributes' array #}
{% if not attributes is defined %}
  {% set attributes = {
    class: ['icon']
  } %}
{% elseif attributes is defined and not attributes.class is defined %}
  {% set attributes = attributes|merge({
    class: ['icon']
  }) %}
{% else %}
  {% set attributes = attributes|merge({
    class: ['icon']|merge(attributes.class)
  }) %}
{% endif %}

{% if position %}
  {% set attributes = attributes|merge({
    class: attributes.class|merge(['icon--' ~ position])
  }) %}
{% endif %}

{% if shape in ['square', 'circle'] %}
  {% set attributes = attributes|merge({
    class: attributes.class|merge(['icon--shape-' ~ shape])
  }) %}
{% endif %}

{% set attributes = attributes|merge({
  class: attributes.class|merge([fa_prefix|default('fas'), 'fa-' ~ fa_name|default('phone-alt')])
}) %}
