<!DOCTYPE html>
<html class="pl-c-html" lang="en">

  <head>
    <title id="title">Pattern Lab</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover" />
    <link rel="stylesheet" href="styleguide/css/pattern-lab.css" media="all" />
    <link rel="stylesheet" href="css/promissory.css" media="all" />
    <script data-search-pseudo-elements src="https://kit.fontawesome.com/bd2f2614d9.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="js/promissory.js" async></script>
  </head>

  <body class="pl-c-body">
    <pl-layout></pl-layout>
    <!-- the template for the modal slider -->
    <script type="text/mustache" class="pl-js-panel-template-base"> ${require('./partials/base-template.html') }
    </script>
    <script src="styleguide/data/patternlab-data.js" defer></script>
    <script src="annotations/annotations.js" defer></script>
    <script src="styleguide/js/patternlab-viewer.modern.js" type="module" crossorigin></script>
    <script>
      // https://gist.github.com/samthor/64b114e4a4f539915a95b91ffd340acc
      (function() {
        var check = document.createElement('script');
        if (!('noModule' in check) && 'onbeforeload' in check) {
          var support = false;
          document.addEventListener('beforeload', function(e) {
            if (e.target === check) {
              support = true;
            } else if (!e.target.hasAttribute('nomodule') || !support) {
              return;
            }
            e.preventDefault();
          }, true);
          check.type = 'module';
          check.src = '.';
          document.head.appendChild(check);
          check.remove();
        }
      })();
    </script>
    <script src="styleguide/js/patternlab-viewer.js" defer nomodule crossorigin></script>
    <script>
      // Check that service workers are registered
      // @todo: uncomment once cache-busting strategy is in place
      // if ('serviceWorker' in navigator) {
      //   // Use the window load event to keep the page load performant
      //   window.addEventListener('load', () => {
      //     navigator.serviceWorker.register('/sw.js');
      //   });
      // }
    </script>
  </body>

</html>
